<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>Event-Driven JavaScript with Event Listeners (Cross-Browser Compatible)</title>
		<script type="text/javascript">
		
		function addEvent(domElement, event, callback) {
		
			// feature detection 
			if (domElement.addEventListener) {
			
				domElement.addEventListener(event, callback, false);
				return true;
			
			} else if (domElement.attachEvent) {
			
				domElement.attachEvent("on" + event, callback);
			
			} else {
			
				alert("No event support in this browser!");
				
			}
		
		}
		
		window.onload = function (){
			
			addEvent(document.getElementById("firstnameBox"), "blur", checkFirstName)
			var theButton = document.getElementById("btn");
			addEvent(theButton, "click", warning1);
			addEvent(theButton, "click", warning2);
		}
		
		function checkFirstName(evtObj) {
		
			if (!evtObj) {evtObj = window.event};
			var targetElement = evtObj.target || evtObj.srcElement;
			if (targetElement.value.length == 0) {
				alert("Please fill in your first name.");
			} 
		}
		
		function warning1() {
			alert("I said don't click me!");
		}
		function warning2() {
			alert("You Jerk!");
		}
		
		
		</script>
	</head>
	<body>
	
		<form>
			<b>First Name:</b> <input type="text" name="firstname" size="20" id="firstnameBox"  />
			<input type="button" value="Don't Click Me" id="btn" />
		</form>
		
	</body>
</html>
